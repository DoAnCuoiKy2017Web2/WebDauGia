@using WebDauGia.Models;

@{
    ViewBag.Title = "Add";
    Layout = "~/Views/Shared/_LayoutRegisterLogin.cshtml";
}
@section view_title{
    Thêm sản phẩm
}

@section css{
    <link href="~/bootstrap-3.3.7-dist/css/bootstrap.css" rel="stylesheet" />
    <link href="~/Content/DatePicker/css/bootstrap-datepicker.min.css" rel="stylesheet" />
}
@section js{
    <script src="//cdn.ckeditor.com/4.6.2/full/ckeditor.js"></script>
    <script src="~/Content/DatePicker/js/bootstrap-datepicker.min.js"></script>
    @*<script src="~/Content/ckeditor_4.6.2_full/ckeditor/ckeditor.js"></script>*@
    <script src="~/Content/Jquery-Valid/jquery.validate.min.js"></script>
    <script>
        CKEDITOR.replace('FullDes', {
            toolbar: [
                ['Font', 'FontSize', '-', 'Bold', 'Italic', 'Underline', 'StrikeThrough', '-', 'Undo', 'Redo', '-', 'Cut', 'Copy', 'Paste', 'Find', 'Replace', '-', 'Outdent', 'Indent', '-', 'Print'],
                '/',
                ['NumberedList', 'BulletedList', '-', 'JustifyLeft', 'JustifyCenter', 'JustifyRight', 'JustifyBlock'],
                ['Image', 'Table', '-', 'Link', 'Flash', 'Smiley', 'TextColor', 'BGColor', 'Source']
            ]
        });
    </script>

    <script type="text/javascript">
        $('.datepicker').datepicker({
            format: 'd/mm/yyyy',
            autoclose: true,
        });
        $("#Form-Add").validate({
            rules: {
                ProName: {
                    required: true,
                },
                Price: {
                    required: true,
                },
                Quantity: {
                    required: true,
                },
            },
            messages: {
                ProName: {
                    required: "Chỗ này không được để trống.",
                },
                Price: {
                    required: "Chỗ này không được để trống.",
                },
                Quantity: {
                    required: "Chỗ này không được để trống.",
                },
            },
            errorelement: 'span',
            errorClass: 'help-block',
            highlight: function (element, errorClass, validClass) {
                $(element).addClass(errorClass).removeClass(validClass);
                $(element).closest('.form-group')
                  .addClass('has-error');
            },
            //unhighlight: function (element, errorClass, validClass) {
            //    $(element).removeClass(errorClass).addClass(validClass);
            //    $(element).closest('.form-group')
            //      .removeClass('has-error');
            //},
            success: function (label) {
                $(label).closest('.form-group')
                  .removeClass('has-error').addClass('has-success');
                label.remove;
            }

        });
    </script>

}
<form class="form-horizontal" action="" method="post" id="Form-Add">
    @*<h1 style="text-align:center">Thêm sản phẩm</h1>*@
    <div class="row">
        <div class="col-md-12">
            <table class="table">
                <tr>
                    <td>Tên sản phẩm</td>
                    <td><input type="text" class="form-control" name="ProName" /></td>
                </tr>
                <tr>
                    <td>Danh mục</td>
                    <td>
                        @*<input type="text" class="form-control" name="CatID" />*@
                        <select name="CatId" class="form-control">
                            @foreach (var c in @ViewBag.DanhSachDanhMuc)
                            {
                                <option value="@c.CatID">@c.CatName</option>
                            }
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>Số lượng</td>
                    <td><input type="number" class="form-control" name="Quantity" /></td>
                </tr>
                <tr>
                    <td>Giá sản phẩm</td>
                    <td><input type="number" class="form-control" name="Price" /></td>
                </tr>
                <tr>
                    <td>Mô tả sản phẩm</td>
                    <td><input type="text" class="form-control" name="TinyDes" /></td>
                </tr>
                <tr>
                    <td>Mô tả chi tiết</td>
                    <td>
                        <textarea name="FullDes" id="FullDes">Mô tả sản phẩm</textarea>
                    </td>
                </tr>
                <tr>
                    <td>Thời gian bắt đầu</td>
                    <td>
                        <input type="text" class="form-control datepicker"
                               name="StartTime" placeholder="@DateTime.Now" readonly" />
                    </td>
                </tr>
                <tr>
                    <td>Thời gian kết thúc</td>
                    <td>
                        <input type="text" class="form-control datepicker"
                               name="EndTime" placeholder="@DateTime.Now.AddDays(1)" readonly" />
                    </td>
                </tr>
                <tr>
                    <td>Bước tăng</td>
                    <td><input type="number" class="form-control" name="StepPrice" /></td>
                </tr>
                <tr>
                    <td></td>
                    <td>
                        <button type="submit" class="btn btn-default" name="btnAdd">Thêm</button>
                        <a href="@Url.Action("Index", "Produc")">Quay lại danh sách sản phẩm</a>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <h1 style="text-align:center">@ViewBag.Message</h1>
</form>
